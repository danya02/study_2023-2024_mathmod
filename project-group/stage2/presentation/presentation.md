---
## Front matter
lang: ru-RU
title: Моделирование образования планетной системы
subtitle: Этап 2
author:
  - Матюхин Г. В.
  - Генералов Д. М.
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 2024

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
---

## Цель работы

Провести моделирование одного из этапов эволюции Вселенной – образование некой
“солнечной” системы из межзвездного газа.

## Начальные условия

- Много маленьких частиц
- Частицы расположены случайно по диску
- Скорости заданы по закону Кеплера
- Массы рандомизированы $\rightarrow$ столкновения и слипания

## Задача N тел

Нельзя найти численное решение для задачи трех тел:

$$
\begin{cases}
 \frac{d\mathbf{r}_{\mathbf{1}}^2}{d^2t} &= -G m_2 \frac{\mathbf{r_1} - \mathbf{r_2}}{|\mathbf{r_1} - \mathbf{r_2}|^3} - G m_3 \frac{\mathbf{r_1} - \mathbf{r_3}}{|\mathbf{r_1} - \mathbf{r_3}|^3}, \\
 \frac{d\mathbf{r}_{\mathbf{2}}^2}{d^2t} &= -G m_3 \frac{\mathbf{r_2} - \mathbf{r_3}}{|\mathbf{r_2} - \mathbf{r_3}|^3} - G m_1 \frac{\mathbf{r_2} - \mathbf{r_1}}{|\mathbf{r_2} - \mathbf{r_1}|^3}, \\
 \frac{d\mathbf{r}_{\mathbf{3}}^2}{d^2t} &= -G m_1 \frac{\mathbf{r_3} - \mathbf{r_1}}{|\mathbf{r_3} - \mathbf{r_1}|^3} - G m_2 \frac{\mathbf{r_3} - \mathbf{r_2}}{|\mathbf{r_3} - \mathbf{r_2}|^3}
\end{cases}
$$

У нас еще больше чем 3 тела.

## Использование стандартных решателей невозможно

- У нас слишком много параметров в дифференциальном уравнении
- Количество параметров меняется: частицы слипаются
- Слипание нельзя симулировать как равенство координат: неожиданный гравитационный манёвр

## Вручную используем метод Эйлера

- У каждой частицы храним положение и скорость
- Для каждой частицы суммируем силы притяжения ко всем остальным
- Если слишком близко к другой частице, применяем силу отталкивания
- Используем силу для изменения скорости
- Используем скорость для изменения положения
- Если две частицы слипаются, удаляем их и создаем суммарную частицу

Шаг симуляции константный; проверка на потерю энергии; остановка когда больше нет столкновений.

## Реализация: вычисление

- Требуется скорость: компилируемый язык программирования
- Хорошая поддержка параллелизма: Rust
- Если не хватает скорости: GPU compute shader

## Реализация: визуализация

- Предварительно: matplotlib
- Показывать анимацию: Blender
- В реальном времени: Pygame
- Нужно держать центр в центре массы (на случай если он будет двигаться из-за неточности)

# Спасибо за внимание